<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>Admin Dashboard</title>
        <style>
            body {
                margin: 0;
                font-family: 'Segoe UI', sans-serif;
            }

            .sidebar {
                width: 18%;
                height: 100vh;
                background-color: #FFFFFF;
                padding: 0rem;
                position: fixed;
                top: 0;
                left: 0;
                box-shadow: 2px 0 5px rgba(0,0,0,0.1);
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                border-right: 4px solid coral;
            }

            .sidebar .ui-menuitem-link:hover,
            .sidebar .ui-menuitem-link:hover .ui-menuitem-text,
            .sidebar .ui-menuitem-link:hover .ui-icon {
                color: white !important;
                border-radius: 10px;
            }

            .sidebar-header {
                font-size: 1rem;
                font-weight: bold;
                margin-bottom: 2rem;
                color: Coral;
                text-align: center;
            }

            .sidebar .ui-menu {
                border: none;
                background: transparent;
                border-radius: 4px;
            }

            .sidebar .ui-menuitem-link {
                color: #333;
                font-weight:bold;
                font-size: 1.4rem !important;
                padding: 0.75rem 0.75rem !important;
                color:black;
                border-radius: 10px !important;
                display: flex;
                align-items: center;
                margin-bottom: 0.75rem; /* Add this line to increase spacing */

            }

            .sidebar .ui-menuitem-link:hover {
                background-color: coral !important;
                color: white !important;
                border-radius: 10px !important;
            }

            .sidebar .ui-icon {
                margin-right: 0.5rem;
            }

            .sidebar .ui-state-active {
                background-color: #5A57DD !important;
                color: white !important;
            }
            .sidebar .custom-menu{
                
                width:100%;
                padding: 0 1rem;
                font-size: 1rem;
                border-radius: 5px;
            }

            .logout-btn {
                text-align: center;
                margin-top: 2rem;
                padding: 1rem 0;
            }

            .main-content {
                margin-left: 250px;
                padding: 2rem;
            }

            /* Style the form panel */
            .table-form-panel {
                max-width: 400px;
                padding: 1rem;
                border-radius: 12px;
                background-color: #fff;
                box-shadow: 0 0 10px rgba(0,0,0,0.1);
            }

            /* Form fields layout */
            .table-form-panel .ui-inputtext,
            .table-form-panel .ui-outputlabel {
                display: block;
                width: 100%;
                margin-bottom: 1rem;
            }

            /* Style the submit button */


            .top-bar-form {
                width: 100%;
                display: flex;
                flex-direction: column; /* Change to column layout */
                gap: 1rem;
                padding: 1rem;
                background-color: #fff;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                border-radius: 8px;
                margin-bottom: 1rem;
                box-sizing: border-box;
            }

            .form-group {
                display: flex;
                gap: 0.5rem;
                justify-content: flex-start;
            }

            .main {
                display: flex;             /* Makes it a flex container */
                flex-direction: row;       /* Ensures children are laid out horizontally */
                gap: 2rem;                 /* Optional: spacing between form groups */
                flex-wrap: wrap;           /* Optional: allows wrapping on smaller screens */
                justify-content: center;   /* Optional: center items horizontally */
            }


            /* Coral colored button */
            /*            .coral-button {
                            background-color: coral !important;
                            border: none;
                            color: white !important;
                            padding: 0.6rem 1.2rem;
                            border-radius: 6px;
                            margin-top: 1rem;
                        }*/
            /*            .top-bar-form .form-group {
                            display: flex;
                            align-items: center;
                            gap: 0.5rem;
                        }*/

            .top-bar-form .ui-outputlabel {
                font-weight: 500;
                color: grey;
                font-size: 1.5rem;
                min-width: 100px;
            }

            .top-bar-form .ui-inputtext {
                margin-left: 1rem;
                width: 150px;
            }

            .coral-button {
                align-self: center; /* Centers the button horizontally */
                background-color: coral !important;
                border: none !important;
                color: white !important;
                font-weight: bold;
                padding: 0rem 1.5rem;
                border-radius: 6px;
                box-shadow: 0 2px 6px rgba(0,0,0,0.15);
                cursor: pointer;
            }
            .coral-button:hover {
                background-color: #ff5252 !important;
            }

        </style>
    </h:head>

    <h:body>
        <!-- Sidebar -->
        <div class="sidebar">
            <div>
                <div class="sidebar-header"><h1>Bhagyoday</h1></div>

                <p:menu styleClass="custom-menu">
                    <p:menuitem value="Dashboard" icon="pi pi-th-large" />
                    <p:menuitem value="Table Mangement" icon="pi pi-table"
                                action="#{tableBean.showForm}" update="mainContent" />
                    <p:menuitem value="Book Table" icon="pi pi-star" action="#{tableBean.showFormbooking()}" update="mainContent" />
                    <p:menuitem value="Error Pages" icon="pi pi-exclamation-triangle" />
                    <p:menuitem value="Manage Order" icon="pi pi-book" />
                </p:menu>
            </div>

            <div class="logout-btn">
                <h:form>
                    <p:commandButton value="Logout" icon="pi pi-sign-out"
                                     action="#{loginBean.logout}"
                                     styleClass="ui-button-danger" />
                </h:form>
            </div>
        </div>

        <!-- Main Content -->
        <!-- Main Content -->
        <h:form id="mainContent" style=" margin-left: 2rem">
            <div class="main-content">
                <h:panelGroup rendered="#{tableBean.showTableForm}">
                    <!-- Top bar form -->
                    <div class="top-bar-form" >
                        <div class="main">
                            <div class="form-group">
                                <p:outputLabel for="tableNumber" value="Table Number:" />
                                <p:inputText id="tableNumber" value="#{tableBean.tableNumber}" placeholder="Enter number" />
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="capacity" value="Capacity-of-peoples:" />
                                <p:inputText id="capacity" value="#{tableBean.capacity}" placeholder="Enter capacity" />
                            </div>
                        </div>

                        <!-- Submit button below -->
                        <p:commandButton value="#{tableBean.editMode ? 'Update' : 'Add-Table'}"
                                         action="#{tableBean.submitTable}"
                                         update="mainContent"
                                         styleClass="coral-button" />
                    </div>

                    <!-- Data Table -->
                    <p:dataTable value="#{tableBean.gettabledata()}" var="table" 
                                 scrollable="true" scrollHeight="200"
                                 style="margin-top: 2rem; width: 100%;">

                        <!-- Table Number -->
                        <p:column headerText="Table Number">
                            <h:outputText value="#{table.tableNumber}" />
                        </p:column>

                        <!-- Capacity -->
                        <p:column headerText="Capacity">
                            <h:outputText value="#{table.capacity}" />
                        </p:column>

                        <!-- Update Button with SVG -->
                        <p:column headerText="Update">
                            <p:commandButton action="#{tableBean.editTable(table)}"
                                             update="mainContent"
                                             title="Edit"
                                             styleClass="ui-button-flat ui-button-warning">
                                <f:facet name="icon">
                                    <span class="ui-icon" style="width: 20px; height: 20px;">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="coral" viewBox="0 0 24 24">
                                            <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 
                                                  0-1.41l-2.34-2.34a1.003 1.003 0 0 0-1.42 0l-1.83 1.83 
                                                  3.75 3.75 1.84-1.83z"/>
                                        </svg>
                                    </span>
                                </f:facet>
                            </p:commandButton>
                        </p:column>

                        <!-- Delete Button with SVG -->
                        <p:column headerText="Delete">
                            <p:column headerText="Delete">
                                <p:commandButton value="Delete"
                                                 action="#{tableBean.deleteTable(table)}"
                                                 update="mainContent"
                                                 styleClass="ui-button-danger"
                                                 title="Delete" />
                            </p:column>
                        </p:column>

                        <!-- Book Table Button -->
                        <p:column headerText="Book Table">
                            <p:commandButton value="Book"
                                             update="mainContent"
                                             styleClass="ui-button-success"
                                             icon="pi pi-calendar-check"
                                             title="Book Table" />

                        </p:column>

                    </p:dataTable>


                </h:panelGroup>
                
                <h:panelGroup rendered="#{tableBean.showbookingForm}">
                    <!-- Top bar form -->
                    <h1>Book Table</h1>
                    <div class="top-bar-form">
                        <div class="main">
                            <div class="form-group">
                                <p:outputLabel for="tableNumber1" value="Table Number:" />
                                <p:inputText id="tableNumber1" value="#{bookingbean.tableNumber}" placeholder="Enter number" />
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="capacity1" value="Capacity-of-peoples:" />
                                <p:inputText id="capacity1" value="#{bookingbean.capacity}" placeholder="Enter capacity" />
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="customer" value="Customer-Name" />
                                <p:inputText id="customer" value="#{bookingbean.customername}" placeholder="Customer-name" />
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="customer-no" value="Customer-Number" />
                                <p:inputText id="customer-no" value="#{bookingbean.mobileno}" placeholder="mobile Number" />
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="booking-date" value="Booking-Date" />
                                <p:datePicker id="booking-date" value="#{bookingbean.bookingdate}" placeholder="booking date" />
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="booking-time" value="Booking-Time" />
                                <p:datePicker id="booking-time" value="#{bookingbean.bookingtime}" timeOnly="true" pattern="HH:mm:ss" hourFormat="24" placeholder="booking time" />
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="Dine-in-date" value="Dine-in-Date" />
                                <p:datePicker id="Dine-in-date" value="#{bookingbean.dineDate}" placeholder="booking date" />
                            </div>
                            <div class="form-group">
                                <p:outputLabel for="Dine-in-time" value="Dine-in-Time" />
                                <p:datePicker id="Dine-in-time" value="#{bookingbean.dinetime }" timeOnly="true" pattern="HH:mm:ss" hourFormat="24" placeholder="booking time" />
                            </div>
                            
                            
                        </div>
                        <p:commandButton value="add"
                                         action="#{bookingbean.insertbook()}"
                                         update="mainContent"
                                         styleClass="coral-button" />
                    </div>

                        


                </h:panelGroup>


            </div>


        </h:form>

       



    </h:body>
</html>
